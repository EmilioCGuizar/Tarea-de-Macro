View(sectores)
knitr::kable(sectores_tab, booktabs = TRUE, format = 'latex', caption = "Informalidad Laboral por Sectores", longtable = F)%>%
add_header_above(c(" ", " ", " ", " ", " ", "Fuera del Sector Informal" = 3))%>%
add_header_above(c(" "," ", " ", "Ocupación Informal" = 5)) %>%
add_header_above(c(" ", "Estimaciones" = 7), bold = T)%>%
kable_styling(latex_options = "scale_down", "center") %>% pack_rows("Primario", 2, 2) %>% pack_rows("Secundario", 3, 5) %>%
pack_rows("Terciario", 6, 12)
sec <- data.frame(ramo1 =c("Industria ext./electricidad", "Industria manufacturera", "Construcción") ,
cant = c(31961,1131086,263685))
terc <- data.frame(ramo2 = c("Comercio", "Restaurantes", "Transportes y comunicaciones", "Servicios profesionales", "Servicios sociales", "Servicios diversos", "Gobierno y organismos intls."),
cant2 = c(1950962, 963599, 424041, 640510, 735899, 3120229, 445461))
sec1 <- ggplot(sec, aes(x=ramo1, y=cant)) + geom_bar(stat='identity', width = 0.3, fill = "orange") + scale_y_continuous(labels = comma) + scale_x_discrete(guide = guide_axis(angle = 90)) +  labs(title = "Sector Secundario", x = " ", y= " ") + theme_bw() + theme(text=element_text(size=12,  family="serif"))
terc1 <- ggplot(terc, aes(x=ramo2, y=cant2)) + geom_bar(stat='identity', width = 0.3, fill = "olivedrab3") + scale_y_continuous(labels = comma) + scale_x_discrete(guide = guide_axis(angle = 90))  + theme_bw() + labs(title = "Sector Terciario", x = " ", y= " ") + theme(text=element_text(size=12,  family="serif"))
plot_grid(sec1, terc1)
compara <- read_excel("ComparativoENOE.xlsx")
comparaent <- compara[-1,] %>% arrange(desc(Informalidad))
ggplot(comparaent, aes(x = reorder(Entidad, -Informalidad), y = Informalidad)) + geom_bar(stat='identity', fill = 'purple') +
scale_x_discrete(guide = guide_axis(angle = 90)) + theme_bw() + labs(title = "Informalidad por Entidad Federativa (Trim. IV, 2019)", x = " ", y = "Número de personas en \n condición de informalidad") + theme(text=element_text(size=12,  family="serif")) + scale_y_continuous(labels = comma)
salsec <- read_excel("302_0121.xls", sheet = 2)
View(salsec)
t119 <- read_csv("sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
#Población Econóicamente Activa
PEA1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
#Población Ocupada
PO1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
PO2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
PO3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
PO4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
#Población Desocupada
PD1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
PD2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
PD3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
PD4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
#Tasa de desempleo
U_1 <- (PD1/PEA1)*100
U_2 <- (PD2/PEA2)*100
U_3 <- (PD3/PEA3)*100
U_4 <- (PD4/PEA4)*100
unemp <- data.frame(Desempleo = c(U_1,U_2,U_3,U_4),
row.names = c('Trimestre I','Trimestre II','Trimestre III','Trimestre IV'))
knitr::kable(unemp, booktabs = TRUE, format = 'latex', longtable = F
)%>%
kable_styling(latex_options = "hold_position", "center")
unemp_ <- data.frame(Trimestre = c(' I',' II',' III',' IV'),
desmp = c(U_1,U_2,U_3,U_4))
g1 <- ggplot(unemp_, aes(Trimestre,desmp)) + geom_bar(stat = "identity", fill = "darkolivegreen2", color = "black", width = 0.6) + theme_bw() + labs(title = "Tasa de Desempleo 2019", xlab = " Trimestre ", y="Porcentaje") +  theme(text=element_text(size=12,  family="serif"))
g1
#Población Subocupada
Sub1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, sub_o==1) %>% summarise(sum(fac)))
Sub2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, sub_o==1) %>% summarise(sum(fac)))
Sub3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, sub_o==1) %>% summarise(sum(fac)))
Sub4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, sub_o==1) %>% summarise(sum(fac)))
#Tasa de Subocupación
Tsub_1 <- (Sub1/PO1)*100
Tsub_2 <- (Sub2/PO2)*100
Tsub_3 <- (Sub3/PO3)*100
Tsub_4 <- (Sub4/PO4)*100
suboc <- data.frame(Subempleo = c(Tsub_1, Tsub_2, Tsub_3, Tsub_4),
row.names = c('Trimestre I','Trimestre II','Trimestre III','Trimestre IV'))
knitr::kable(suboc, booktabs = TRUE, format = 'latex', longtable = F
)%>%
kable_styling(latex_options = "hold_position", "center")
suboc_ <- data.frame(Trimestre = c(' I',' II',' III',' IV'),
subOC = c(Tsub_1, Tsub_2, Tsub_3, Tsub_4))
g2 <- ggplot(suboc_, aes(Trimestre,subOC)) + geom_bar(stat = "identity", fill = "darkorange2", color = "black", width = 0.6) + theme_bw() + labs(title = "Tasa de Subempleo 2019", xlab = " Trimestre ", y="Porcentaje") +  theme(text=element_text(size=12,  family="serif"))
g2
#Población Disponible
disp1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 3, clase1==2) %>% summarise(sum(fac)))
disp2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  clase2 == 3, clase1==2) %>% summarise(sum(fac)))
disp3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  clase2 == 3, clase1==2) %>% summarise(sum(fac)))
disp4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  clase2 == 3, clase1==2) %>% summarise(sum(fac)))
#Población No Disponible
nd1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 4, clase1==2) %>% summarise(sum(fac)))
nd2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  clase2 == 4, clase1==2) %>% summarise(sum(fac)))
nd3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  clase2 == 4, clase1==2) %>% summarise(sum(fac)))
nd4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  clase2 == 4, clase1==2) %>% summarise(sum(fac)))
#La Población No Económicamente Activa está tada por Pob. Disponible + Pob. No Disponible.
#Por lo tanto, la fracción de trabajadores disponibles está dada por Pob. Disponible / (Pob. Disponible + Pob. No Disponible)
Td1 <- disp1/(disp1 + nd1)*100
Td2 <- disp2/(disp2 + nd2)*100
Td3 <- disp3/(disp3 + nd3)*100
Td4 <- disp4/(disp4 + nd4)*100
disp <- data.frame(Disponibilidad = c(Td1, Td2, Td3, Td4),
row.names = c('Trimestre I','Trimestre II','Trimestre III','Trimestre IV'))
knitr::kable(disp, booktabs = TRUE, format = 'latex', longtable = F, caption = "Tasas de disponibilidad 2019"
)%>%
kable_styling(latex_options = "hold_position", "center")
disp_ <- data.frame(Trimestre = c(' I',' II',' III',' IV'),
Dispt = c(Td1, Td2, Td3, Td4))
g3 <- ggplot(disp_, aes(Trimestre,Dispt)) + geom_bar(stat = "identity", fill = "lightblue", color = "black", width = 0.6) + theme_bw() + labs(title = "Tasa de Disponibilidad 2019", xlab = " Trimestre ", y="Porcentaje") +  theme(text=element_text(size=12,  family="serif"))
g3
#Empleados en establecimientos pequeños
peq1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==4 ) %>% summarise(sum(fac)))
peq2<- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==4 ) %>% summarise(sum(fac)))
peq3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==4) %>% summarise(sum(fac)))
peq4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==4) %>% summarise(sum(fac)))
#Empleados en establecimientos medianos
med1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==5) %>% summarise(sum(fac)))
med2<- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==5) %>% summarise(sum(fac)))
med3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==5) %>% summarise(sum(fac)))
med4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==5) %>% summarise(sum(fac)))
#Empleados en establecimientos grandes
gra1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==6) %>% summarise(sum(fac)))
gra2<- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==6) %>% summarise(sum(fac)))
gra3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==6) %>% summarise(sum(fac)))
gra4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, pos_ocu==1, ambito2==6) %>% summarise(sum(fac)))
tamano <- data.frame(Pequeña = c(peq1,peq2,peq3,peq4),
Mediana = c(med1,med2,med3,med4),
Grande = c(gra1, gra2, gra3, gra4),
row.names = c('Trimestre I','Trimestre II', 'Trimestre III','Trimestre IV'))
tamano <- tamano %>% mutate(tamano, Total = Pequeña + Mediana + Grande)
knitr::kable(tamano, booktabs = TRUE, format = 'latex', longtable = F,
caption = "Absoluto de empleados por tamaño de empresa"
)%>%
kable_styling(latex_options = "hold_position", "center")
tit <- data.frame(Pequeña = c(peq1/(peq1+med1+gra1),peq2/(peq2+med2+gra2),peq3/(peq3+med3+gra3),peq4/(peq4+med4+gra4))*100,
Mediana = c(med1/(peq1+med1+gra1),med2/(peq2+med2+gra2),med3/(peq3+med3+gra3),med4/(peq4+med4+gra4))*100,
Grande = c(gra1/(peq1+med1+gra1), gra2/(peq2+med2+gra2), gra3/(peq3+med3+gra3), gra4/(peq4+med4+gra4))*100,
row.names = c('Trimestre I','Trimestre II', 'Trimestre III','Trimestre IV'))
knitr::kable(tit, booktabs = TRUE, format = 'latex', longtable = F,
caption = "Relativo de empleados por tamaño de empresa"
)%>%
kable_styling(latex_options = "hold_position", "center")
Pequeña <- c(peq1,peq2,peq3,peq4)
Mediana <- c(med1,med2,med3,med4)
Grande <- c(gra1,gra2,gra3,gra4)
tamano2 <- data.frame(Trimestre = c('Trimestre I','Trimestre II', 'Trimestre III','Trimestre IV'),
Tamaño = c(Pequeña,Mediana,Grande),
nombre = c(rep('Pequeña',4), rep('Mediana', 4), rep('Grande',4)))
pacman::p_load(scales)
ggplot(tamano2,aes(x = nombre, y =Tamaño, fill = Trimestre)) +
geom_bar(stat = "identity", position = "dodge" ) +
labs(title = "Número de empleados por tamaño de empresas (2019)", x="Tamaño de Empresa",y='Número de Empleados') + theme_bw() +  theme(text=element_text(size=12,  family="serif")) + scale_y_continuous(labels = comma)
busq1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, tpg_p8a == 1) %>% summarise(sum(fac)))
busq2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  tpg_p8a == 1) %>% summarise(sum(fac)))
busq3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  tpg_p8a == 1) %>% summarise(sum(fac)))
busq4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98,  tpg_p8a == 1) %>% summarise(sum(fac)))
busq <- data.frame(Búsqueda = c(busq1, busq2, busq3, busq4),
row.names = c('Trimestre I','Trimestre II','Trimestre III','Trimestre IV'))
knitr::kable(busq, booktabs = TRUE, format = 'latex', longtable = F, caption = "Empleados en búsqueda de otro empleo 2019"
)%>%
kable_styling(latex_options = "hold_position", "center")
busq_ <- data.frame(Trimestre = c(' I',' II',' III',' IV'),
busqu = c(busq1, busq2, busq3, busq4))
g3 <- ggplot(busq_, aes(Trimestre,busqu)) + geom_bar(stat = "identity", fill = "blue", color = "black", width = 0.6) + theme_bw() + labs(title = "Número de empleados en búsqueda de otro trabajo 2019", xlab = " Trimestre ", y="Porcentaje") +  theme(text=element_text(size=12,  family="serif")) +  scale_y_continuous(label = comma)
g3
ingprom1 <- t119 %>% group_by(eda) %>% filter(clase1 == 1, eda >= 15) %>% summarise(avg_ing1= mean(ing_x_hrs))
ingprom2 <- t219 %>% group_by(eda) %>% filter(clase1 == 1, eda >= 15) %>% summarise(avg_ing2= mean(ing_x_hrs))
ingprom3 <- t319 %>% group_by(eda) %>% filter(clase1 == 1, eda >= 15) %>% summarise(avg_ing3= mean(ing_x_hrs))
ingprom4 <- t419 %>% group_by(eda) %>% filter(clase1 == 1, eda >= 15) %>% summarise(avg_ing4= mean(ing_x_hrs))
ingprom <- data.frame(c(ingprom1, ingprom2, ingprom3, ingprom4))
ingprom <- ingprom[,-c(3,5,7)]
p1 <- ggplot(ingprom, aes(eda,avg_ing1)) + geom_point(colour="brown", size=1) + labs(title = "Edad vs Ingreso 1T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif")) + geom_smooth(method = 'lm')
p2 <- ggplot(ingprom, aes(eda,avg_ing2)) + geom_point(colour="blue", size=1) + labs(title = "Edad vs Ingreso 2T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif")) + geom_smooth(method = 'lm', colour = "brown")
p3 <- ggplot(ingprom, aes(eda,avg_ing3)) + geom_point(colour="blue", size=1) + labs(title = "Edad vs Ingreso 3T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif")) + geom_smooth(method = 'lm', colour = "brown")
p4 <- ggplot(ingprom, aes(eda,avg_ing4)) + geom_point(colour="brown", size=1) + labs(title = "Edad vs Ingreso 4T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif")) + geom_smooth(method = 'lm')
plot_grid(p1,p2,p3,p4, ncol= 2 , nrow = 2)
salsec <- salsec[,-2]
knitr::kable(salsec, booktabs = TRUE, format = 'latex', longtable = F
)%>%
kable_styling(latex_options = "hold_position", "center")
knitr::kable(salsec, booktabs = TRUE, format = 'latex', longtable = F
)%>%
kable_styling(latex_options = "scale_down", "center") %>%
add_header_above(c(" ", " Primario", "Secundario"=4, "Terciario" = 5))
t(salsec)
salsec <- salsec[,-2] %>% t(salsec)
salsec <- t(salsec)
names(salsec) <- c("Octubre","Noviembre","Diciembre", "Trimestre IV")
View(salsec)
salsec <- read_excel("302_0121.xls", sheet = 2)
salsec <- t(salsec)
View(salsec)
View(salsec)
names(salsec) <- c("Octubre","Noviembre","Diciembre", "Trimestre IV")
View(salsec)
salsec <- read_excel("302_0121.xls", sheet = 2)
View(salsec)
names(salsec) <- c(" ", "Octubre","Noviembre","Diciembre", "Trimestre IV")
salsec <- salsec[-2,]
salsec <- read_excel("302_0121.xls", sheet = 2)
salsec <- salsec[-1,]
names(salsec) <- c(" ", "Octubre","Noviembre","Diciembre", "Trimestre IV")
knitr::kable(salsec, booktabs = TRUE, format = 'latex', longtable = F
)%>%
kable_styling(latex_options = "scale_down", "center")
sectores <- read_excel("Nacional_IE_ForInf_Total_419.xlsx", sheet = 2)
names(sectores) <- c("Indicador","Población Ocupada", "Ocupación Formal", "Subtotal", "Sector Informal", "Subtotal", "Ambito no agropecuario", "Ambito agropecuario")
sectores_tab <- sectores[-c(2,4,8),]
View(sectores)
knitr::kable(sectores_tab, booktabs = TRUE, format = 'latex', caption = "Informalidad Laboral por Sectores", longtable = F)%>%
add_header_above(c(" ", " ", " ", " ", " ", "Fuera del Sector Informal" = 3))%>%
add_header_above(c(" "," ", " ", "Ocupación Informal" = 5)) %>%
add_header_above(c(" ", "Estimaciones" = 7), bold = T)%>%
kable_styling(latex_options = "scale_down", "center") %>% pack_rows("Primario", 2, 2) %>% pack_rows("Secundario", 3, 5) %>%
pack_rows("Terciario", 6, 12)
names(salsec) <- c(" ", "Octubre","Noviembre","Diciembre", "4T")
knitr::kable(salsec, booktabs = TRUE, format = 'latex', caption = "Salario (pesos por día) por Sector de Actividad Econímica, 4T 2019",longtable = F
)%>%
kable_styling(latex_options = "scale_down", "center")
names(salsec) <- c(" ", "Octubre","Noviembre","Diciembre", "Promedio")
knitr::kable(salsec, booktabs = TRUE, format = 'latex', caption = "Salario (pesos por día) por Sector de Actividad Econímica, 4T 2019",longtable = F
)%>%
kable_styling(latex_options = "scale_down", "center")
ggplot(salsec, aes(x = Promedio)) + geom_plot()
ggplot(salsec, aes(x = Promedio)) + geom_dotplot()
ggplot(salsec, aes(x = Promedio)) + geom_point(colour="brown", size=1) + labs(title = "Edad vs Ingreso 1T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif")) + geom_smooth(method = 'lm')
ggplot(salsec, aes(x = Promedio)) + geom_point(colour="brown", size=1) + labs(title = "Edad vs Ingreso 1T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
names(salsec) <- c("Rubro", "Octubre","Noviembre","Diciembre", "Promedio")
knitr::kable(salsec, booktabs = TRUE, format = 'latex', caption = "Salario (pesos por día) por Sector de Actividad Econímica, 4T 2019",longtable = F
)%>%
kable_styling(latex_options = "scale_down", "center")
ggplot(salsec, aes(x = Promedio)) + geom_point(colour="brown", size=1) + labs(title = "Edad vs Ingreso 1T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(salsec, aes(x = Promedio, Rubro)) + geom_point(colour="brown", size=1) + labs(title = "Edad vs Ingreso 1T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(salsec, aes(x = Promedio, Rubro)) + geom_point(aes(colour = factor(Rubro)), size=1) + labs(title = "Edad vs Ingreso 1T 2019", x="Edad",y="Ingreso por hora") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(salsec, aes(x = Promedio, Rubro)) + geom_point(aes(colour = factor(Rubro)), size=1) + labs(title = "Salario diario vs Sector 4T 2019", x="Salario por día",y=" ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(salsec, aes(x = Promedio, Rubro)) + geom_point(aes(colour = Rubro), size=1) + labs(title = "Salario diario vs Sector 4T 2019", x="Salario por día",y=" ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
View(salsec)
salsec <- read_excel("302_0121.xls", sheet = 2)
View(salsec)
salsec <- salsec[-c(1,6),]
names(salsec) <- c("Rubro", "Octubre","Noviembre","Diciembre", "Promedio")
knitr::kable(salsec, booktabs = TRUE, format = 'latex', caption = "Salario (pesos por día) por Sector de Actividad Econímica, 4T 2019",longtable = F
)%>%
kable_styling(latex_options = "scale_down", "center")
plotsal <- mutate(salsec, infm = c(5881455,51391,337144,327734,6436881,1501398,1190268,872624))
ggplot(plotsal, aes(x = infm, Promedio)) + geom_point(aes(colour = Rubro), size=1) + labs(title = "Salario diario vs Sector 4T 2019", x="Salario por día",y=" ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
View(plotsal)
plotsal <- mutate(plotsal, propr = infm/sum(infm))
View(plotsal)
ggplot(plotsal, aes(x = propr, Promedio)) + geom_point(aes(colour = Rubro), size=1) + labs(title = "Salario diario vs Sector 4T 2019", x="Salario por día",y=" ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plotsal <- mutate(salsec, infm = c(5881455,51391,3371447,3277344,6436881,1501398,1190268,872624))
plotsal <- mutate(plotsal, propr = infm/sum(infm))
ggplot(plotsal, aes(x = propr, Promedio)) + geom_point(aes(colour = Rubro), size=1) + labs(title = "Salario diario vs Sector 4T 2019", x="Salario por día",y=" ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(plotsal, aes(x = propr, Promedio)) + geom_point(aes(colour = Rubro), size=1) + labs(title = "Salario diario vs Informalidad por Sector 4T 2019", x="Proporción de Informalidad",y="Pesos por día") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(plotsal, aes(x = propr, Promedio)) + geom_point(aes(colour = Rubro), size=1) + labs(title = "Salario diario vs Informalidad \npor Sector 4T 2019", x="Proporción de Informalidad",y="Pesos por día") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(plotsal, aes(x = propr, Promedio)) + geom_point(aes(colour = Rubro), size=2) + labs(title = "Salario diario vs Informalidad \npor Sector 4T 2019", x="Proporción de Informalidad",y="Pesos por día") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
ggplot(plotsal, aes(x = propr, Promedio)) + geom_point(aes(colour = Rubro), size=2) + labs(title = "Salario diario vs Informalidad \npor Sector 4T 2019", x="Proporción de Informalidad",y="Pesos por día") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
pacman::p_load(tidyverse,
ggthemes,
haven, readxl,
kableExtra,
cowplot, ggplot2, scales, viridis, latticeExtra,
knitr, tinytex, reshape, lubridate, scales, reshape2, extrafont)
#Cambio Porcentual
datos <- read_excel("C:\\Users\\hgoma\\Desktop\\Pruebas\\PIB_K.xls",
sheet = 1)
names(datos) = c('Periodo', 'Indice_K','PIB')
datos <- datos[-c(1:236),]
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K <- K %>% group_by(Periodo) %>% summarise(Indice_K, K_q = mean(Indice_K), .groups = 'drop')
K <- K[!duplicated(K[c('K_q')]),]
K <- na.omit(K)
K <- K[,-2]
K <- K[-56,]
empleo <- read_excel("C:\\Users\\hgoma\\Desktop\\Pruebas\\Empleo.xls",
sheet = 1)
empleo <- empleo[-c(1:12),]
empleo$Periodos <- quarter(parse_date_time(empleo$Periodos, orders = "%Y/%q"), with_year = TRUE)
empleo <- empleo[,c(1,5)]
ano_base2 <- as.numeric(empleo[21,2])
empleo$L <- ((empleo[,2]/ano_base2)*100)
datos_grafica1 <- data.frame(PIB$Periodo,PIB$Y, K$K_q, empleo$L)
names(datos_grafica1) = c('Periodo','Y','K','L')
mdatos_grafica1 <- melt(datos_grafica1, id.vars = "Periodo")
grafica1 <- ggplot(mdatos_grafica1, aes(x=Periodo, y=value ,colour=variable,group=variable))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Porcentaje',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica1)
productividad <- PIB[,1]
productividad$A <- PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7)))
names(productividad) = c('Periodo','A')
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A ,colour=variable,group=variable))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
productividad <- PIB[,1]
productividad$A <- PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7)))
names(productividad) = c('Periodo','A')
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
str(productividad)
View(productividad)
productividad <- PIB[,1]
productividad$A <- PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7)))
str(productividad)
str(PIB)
productividad <- PIB[,1]
productividad$A <- as.numeric(PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7))))
productividad <- PIB[,1]
productividad$A <- as.numeric(PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7))))
productividad <- PIB[,1]
productividad$A <- as.numeric(unlist((PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7))))))
View(productividad)
names(productividad) = c('Periodo','A')
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
productividad <- PIB[,1]
productividad$A <- as.numeric(unlist((PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7))))))
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor', colour = 'orange',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A, colour = 'orange'))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
productividad <- PIB[,1]
productividad$A <- as.numeric(unlist((PIB$Y/(((K$K_q)^(0.3))*((empleo$L)^(0.7))))))
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
?geom_line
?aes
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A, colour = "red"))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A, colour = A))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "orange", colour = "orange") +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
salario <- empleo[,-c(2,3)]
w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
salario <- empleo[,-c(2,3)]
w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
plot(grafica3)
View(w)
salario <- empleo[,-c(2,3)]
w <- (100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
View(w)
View(w)
w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
View(w)
salario <- empleo[,-c(2,3)]
salario$w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
View(salario)
salario <- empleo[,-c(2,3)]
salario$w <- (100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
View(salario)
salario <- empleo[,-c(2,3)]
salario$w <- as.numeric(unlist((100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))))
View(salario)
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
View(salario)
salario <- PIB$Periodo
salario$w <- as.numeric(unlist((100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))))
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
View(salario)
salario <- PIB[,1]
View(salario)
salario$w <- as.numeric(unlist((100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))))
View(salario)
str(salario)
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(colour = "orange") +
labs(title = "Productividad (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
salarios <- read.csv(file = "C:\\Users\\hgoma\\Desktop\\Pruebas\\Salarios.csv", sep = ",")
salarios <- salarios[,-c(3,4)]
fecha <- datos[-c(166:173),1]
sal08 <- salarios[2:13,-1]
sal09 <- salarios[15:26,-1]
sal10 <- salarios[28:39,-1]
sal11 <- salarios[41:52,-1]
sal12 <- salarios[54:65,-1]
sal13 <- salarios[67:78,-1]
sal14 <- salarios[80:91,-1]
sal15 <- salarios[93:104,-1]
sal16 <- salarios[106:117,-1]
sal17 <- salarios[119:130,-1]
sal18 <- salarios[132:143,-1]
sal19 <- salarios[145:156,-1]
sal20 <- salarios[158:169,-1]
sal21 <- salarios[171:179,-1]
sal_mensual <- c(sal08, sal09, sal10, sal11, sal12, sal13, sal14, sal15, sal16, sal17,
sal18, sal19, sal20, sal21)
sal <- data.frame(fecha, sal_mensual)
sal$Periodo <- quarter(parse_date_time(sal$Periodo, orders = "%Y/%m"), with_year = TRUE)
sal <- sal %>% group_by(Periodo) %>% summarise(sal_mensual, sal_q = mean(sal_mensual), .groups = 'drop')
sal <- sal[!duplicated(sal[c('sal_q')]),]
datos_grafica4 <- data.frame(PIB$Periodo,salario$w, sal$sal_q)
View(datos_grafica1)
View(datos_grafica4)
names(datos_grafica4) <- c("Periodo", "Salario_contrafactual", "Salario_observado")
View(datos_grafica4)
mdatos_grafica4 <- melt(datos_grafica4, id.vars = "Periodo")
names(datos_grafica4) <- c("Periodo", "Salario_contrafactual", "Salario_observado")
mdatos_grafica4 <- melt(datos_grafica4, id.vars = "Periodo")
grafica4 <- ggplot(mdatos_grafica1, aes(x=Periodo, y=value ,colour=variable,group=variable))+geom_line() +
labs(title = "Comparación de los salarios", x="Año",y='Porcentaje',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica4)
grafica4 <- ggplot(mdatos_grafica4, aes(x=Periodo, y=value ,colour=variable,group=variable))+geom_line() +
labs(title = "Comparación de los salarios", x="Año",y='Porcentaje',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica4)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.align="center", fig.pos = "H", fig.width = 7, fig.height = 3)
datos <- read_excel("PIB_K.xls",
sheet = 1)
names(datos) = c('Periodo', 'Inversión', 'Indice K','PIB')
datos <- datos[-c(1:236),-2]
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
View(datos)
K <- datos[,-3]
View(K)
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
str(K)
K$Indice_K <- as.numeric(K$Indice_K)
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K <- K %>% group_by(Periodo) %>% summarise(Indice_K, K_q = mean(Indice_K), .groups = 'drop')
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K <- datos[,-3]
View(K)
names(datos) = c('Periodo', 'Inversión', 'Indice_K','PIB')
datos <- datos[-c(1:236),-2]
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
K <- datos[,-3]
K <- datos[,-3]
View(datos)
datos <- read_excel("PIB_K.xls",
sheet = 1)
names(datos) = c('Periodo', 'Inversión', 'Indice_K','PIB')
datos <- datos[-c(1:236),-2]
View(datos)
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
View(PIB)
View(datos)
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
View(K)
K <- K %>% group_by(Periodo) %>% summarise(Indice_K, K_q = mean(Indice_K), .groups = 'drop')
K <- K[!duplicated(K[c('K_q')]),]
K <- na.omit(K)
K <- K[,-2]
K <- K[-56,]
