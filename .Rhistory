labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
?geom_line
?aes
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A, colour = "red"))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A, colour = A))+geom_line() +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "orange", colour = "orange") +
labs(title = "Producto, Capitial y Trabajo (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
salario <- empleo[,-c(2,3)]
w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
salario <- empleo[,-c(2,3)]
w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
plot(grafica3)
View(w)
salario <- empleo[,-c(2,3)]
w <- (100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
View(w)
View(w)
w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
View(w)
salario <- empleo[,-c(2,3)]
salario$w <- (0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
View(salario)
salario <- empleo[,-c(2,3)]
salario$w <- (100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))
View(salario)
salario <- empleo[,-c(2,3)]
salario$w <- as.numeric(unlist((100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))))
View(salario)
grafica3 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
View(salario)
salario <- PIB$Periodo
salario$w <- as.numeric(unlist((100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))))
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
View(salario)
salario <- PIB[,1]
View(salario)
salario$w <- as.numeric(unlist((100)*(0.7)*(productividad$A)*((K$K_q)^(0.3))*((empleo$L)^(-0.3))))
View(salario)
str(salario)
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(fill = "red", colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
grafica3 <- ggplot(salario, aes(x=Periodo, y=w))+geom_line(colour = "red") +
labs(title = "Salario contrafactual", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica3)
grafica2 <- ggplot(productividad, aes(x=Periodo, y=A))+geom_line(colour = "orange") +
labs(title = "Productividad (2008-2021)", x="Año",y='Valor',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica2)
salarios <- read.csv(file = "C:\\Users\\hgoma\\Desktop\\Pruebas\\Salarios.csv", sep = ",")
salarios <- salarios[,-c(3,4)]
fecha <- datos[-c(166:173),1]
sal08 <- salarios[2:13,-1]
sal09 <- salarios[15:26,-1]
sal10 <- salarios[28:39,-1]
sal11 <- salarios[41:52,-1]
sal12 <- salarios[54:65,-1]
sal13 <- salarios[67:78,-1]
sal14 <- salarios[80:91,-1]
sal15 <- salarios[93:104,-1]
sal16 <- salarios[106:117,-1]
sal17 <- salarios[119:130,-1]
sal18 <- salarios[132:143,-1]
sal19 <- salarios[145:156,-1]
sal20 <- salarios[158:169,-1]
sal21 <- salarios[171:179,-1]
sal_mensual <- c(sal08, sal09, sal10, sal11, sal12, sal13, sal14, sal15, sal16, sal17,
sal18, sal19, sal20, sal21)
sal <- data.frame(fecha, sal_mensual)
sal$Periodo <- quarter(parse_date_time(sal$Periodo, orders = "%Y/%m"), with_year = TRUE)
sal <- sal %>% group_by(Periodo) %>% summarise(sal_mensual, sal_q = mean(sal_mensual), .groups = 'drop')
sal <- sal[!duplicated(sal[c('sal_q')]),]
datos_grafica4 <- data.frame(PIB$Periodo,salario$w, sal$sal_q)
View(datos_grafica1)
View(datos_grafica4)
names(datos_grafica4) <- c("Periodo", "Salario_contrafactual", "Salario_observado")
View(datos_grafica4)
mdatos_grafica4 <- melt(datos_grafica4, id.vars = "Periodo")
names(datos_grafica4) <- c("Periodo", "Salario_contrafactual", "Salario_observado")
mdatos_grafica4 <- melt(datos_grafica4, id.vars = "Periodo")
grafica4 <- ggplot(mdatos_grafica1, aes(x=Periodo, y=value ,colour=variable,group=variable))+geom_line() +
labs(title = "Comparación de los salarios", x="Año",y='Porcentaje',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica4)
grafica4 <- ggplot(mdatos_grafica4, aes(x=Periodo, y=value ,colour=variable,group=variable))+geom_line() +
labs(title = "Comparación de los salarios", x="Año",y='Porcentaje',
colour = " ") + theme_bw() +  theme(text=element_text(size=12,  family="serif"))
plot(grafica4)
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.align="center", fig.pos = "H", fig.width = 7, fig.height = 3)
datos <- read_excel("PIB_K.xls",
sheet = 1)
names(datos) = c('Periodo', 'Inversión', 'Indice K','PIB')
datos <- datos[-c(1:236),-2]
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
View(datos)
K <- datos[,-3]
View(K)
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
str(K)
K$Indice_K <- as.numeric(K$Indice_K)
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K <- K %>% group_by(Periodo) %>% summarise(Indice_K, K_q = mean(Indice_K), .groups = 'drop')
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
K <- datos[,-3]
View(K)
names(datos) = c('Periodo', 'Inversión', 'Indice_K','PIB')
datos <- datos[-c(1:236),-2]
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
K <- datos[,-3]
K <- datos[,-3]
View(datos)
datos <- read_excel("PIB_K.xls",
sheet = 1)
names(datos) = c('Periodo', 'Inversión', 'Indice_K','PIB')
datos <- datos[-c(1:236),-2]
View(datos)
PIB <- datos[,-2]
PIB$Periodo <- quarter(parse_date_time(datos$Periodo, orders = "%Y%q"), with_year = TRUE)
PIB <- na.omit(PIB)
PIB$PIB <- as.numeric(as.character(PIB$PIB))
ano_base <- as.numeric(PIB[21,2])
PIB$Y <- ((PIB[,2]/ano_base)*100)
View(PIB)
View(datos)
K <- datos[,-3]
K$Periodo <- quarter(parse_date_time(K$Periodo, orders = "%Y%m"), with_year = TRUE)
K$Indice_K <- as.numeric(as.character(K$Indice_K))
View(K)
K <- K %>% group_by(Periodo) %>% summarise(Indice_K, K_q = mean(Indice_K), .groups = 'drop')
K <- K[!duplicated(K[c('K_q')]),]
K <- na.omit(K)
K <- K[,-2]
K <- K[-56,]
pacman::p_load(tidyverse,
ggthemes,
haven, readxl,
kableExtra,
cowplot, ggplot2, scales, viridis, latticeExtra,
knitr, tinytex, reshape, lubridate, scales, reshape2, extrafont)
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.align="center", fig.pos = "H", fig.width = 7, fig.height = 3)
t119 <- read_csv("sdemt119.csv")
t119 <- read_csv("sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
#Población Econóicamente Activa
PEA1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
#Población Ocupada
PO1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
PO2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
PO3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
PO4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 1) %>% summarise(sum(fac)))
#Población Desocupada
PD1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
PD2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
PD3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
PD4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase2 == 2) %>% summarise(sum(fac)))
#Tasa de desempleo
U_1 <- (PD1/PEA1)*100
U_2 <- (PD2/PEA2)*100
U_3 <- (PD3/PEA3)*100
U_4 <- (PD4/PEA4)*100
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
problems()
problems(t419)
t119 <- read_csv("sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
t119$trim <-1
t219$trim <-2
t319$trim <-3
t419$trim <-4
View(t119)
names1 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_ref")
t119[,names1] <- lapply(t119[,names1] , as.character)
View(t119)
t119$trim <-1
t219$trim <-2
t319$trim <-3
t419$trim <-4
View(t119)
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
t119 <- read_csv("sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
View(t119)
t119$trim <-1
t219$trim <-2
t319$trim <-3
t419$trim <-4
names1 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_ref")
t119[,names1] <- lapply(t119[,names1] , as.character)
names1 <- c("ent" ,"con", "v_sel", "n_hog", "h_mud", "n_ren","r_ref")
t119[,names1] <- lapply(t119[,names1] , as.character)
names1 <- c("ent" ,"con", "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t119[,names1] <- lapply(t119[,names1] , as.character)
str(t119)
names1 <- c("ent" ,"con", "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t119[,names1] <- lapply(t119[,names1] , as.character)
str(t119)
names2 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t219[,names2] <- lapply(t219[,names2] , as.character)
str(t219)
names3 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t319[,names3] <- lapply(t319[,names3] , as.character)
str(t319)
names4 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t419[,names4] <- lapply(t419[,names4] , as.character)
str(t419)
t119$id <- base::paste(t119$ent, t119$con, t119$v_sel,#creamos id
t119$n_hog, t119$h_mud, t119$n_ren, sep = "-")
anyDuplicated(t119$id)#se verifica que no se repita.
###Prueba
t119$id <- base::paste(t119$ent, t119$con, t119$v_sel,#creamos id
t119$n_hog, t119$h_mud, t119$n_ren, sep = "-")
anyDuplicated(t119$id)#se verifica que no se repita.
t219$id <- base::paste(t219$ent, t219$con, t219$v_sel,#creamos id
t219$n_hog, t219$h_mud, t219$n_ren, sep = "-")
anyDuplicated(t219$id)#se verifica que no se repita.
t319$id <- base::paste(t319$ent, t319$con, t319$v_sel,#creamos id
t319$n_hog, t319$h_mud, t319$n_ren, sep = "-")
anyDuplicated(t319$id)#se verifica que no se repita.
t419$id <- base::paste(t419$ent, t419$con, t419$v_sel,#creamos id
t419$n_hog, t419$h_mud, t419$n_ren, sep = "-")
anyDuplicated(t419$id)#se verifica que no se repita.
trim_12 <-  merge(t119, t219, by = "id") %>%
select(id,clase1.x, clase1.y, clase2.x, clase2.y, fac.x, fac.y)
graf <- trim_12 %>%
group_by(clase2.x, clase2.y) %>%
tally(wt = fac.x) %>%
spread(clase2.y,n) %>% replace(is.na(.),0)
graf
view(graf)
graf <- as.data.frame(trim_12 %>%
group_by(clase2.x, clase2.y) %>%
tally(wt = fac.x) %>%
spread(clase2.y,n) %>% replace(is.na(.),0))
view(graf)
View(graf)
pacman::p_load(tidyverse,
ggthemes,
haven, readxl,
kableExtra,
cowplot, ggplot2, scales, viridis, latticeExtra,
knitr, tinytex, reshape, lubridate, scales, reshape2, extrafont)
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t119 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt119.csv")
t219 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt219.csv")
t319 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("C:\\Users\\hgoma\\Desktop\\Maestría\\2° Semestre\\Macroeconomía II\\Tareas\\Mercado laboral\\Tarea-de-Macro\\sdemt419.csv")
names(t419) <- tolower(names(t419))
t119$trim <-1
t219$trim <-2
t319$trim <-3
t419$trim <-4
names1 <- c("ent" ,"con", "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t119[,names1] <- lapply(t119[,names1] , as.character)
str(t119)
names2 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t219[,names2] <- lapply(t219[,names2] , as.character)
str(t219)
names3 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t319[,names3] <- lapply(t319[,names3] , as.character)
str(t319)
names4 <- c('ent' ,'con', "v_sel", "n_hog", "h_mud", "n_ren","r_def", "c_res")
t419[,names4] <- lapply(t419[,names4] , as.character)
str(t419)
###Prueba
t119$id <- base::paste(t119$ent, t119$con, t119$v_sel,#creamos id
t119$n_hog, t119$h_mud, t119$n_ren, sep = "-")
anyDuplicated(t119$id)#se verifica que no se repita.
t219$id <- base::paste(t219$ent, t219$con, t219$v_sel,#creamos id
t219$n_hog, t219$h_mud, t219$n_ren, sep = "-")
anyDuplicated(t219$id)#se verifica que no se repita.
t319$id <- base::paste(t319$ent, t319$con, t319$v_sel,#creamos id
t319$n_hog, t319$h_mud, t319$n_ren, sep = "-")
anyDuplicated(t319$id)#se verifica que no se repita.
t419$id <- base::paste(t419$ent, t419$con, t419$v_sel,#creamos id
t419$n_hog, t419$h_mud, t419$n_ren, sep = "-")
anyDuplicated(t419$id)#se verifica que no se repita.
trim_12 <-  merge(t119, t219, by = "id") %>%
select(id,clase1.x, clase1.y, clase2.x, clase2.y, fac.x, fac.y)
tabla <- as.data.frame(trim_12 %>%
group_by(clase2.x, clase2.y) %>%
tally(wt = fac.x) %>%
spread(clase2.y,n) %>% replace(is.na(.),0))
view(tabla)
?add_rownames
add_rownames(tabla, 1= "No aplica")
add_rownames(tabla, 1 = "No aplica")
rownames(tabla) <- c("No aplica","Población ocupada","Población desocupada","Disponibles", "No disponibles")
view(tabla)
colnames(tabla) <- c("No aplica","Población ocupada","Población desocupada","Disponibles", "No disponibles")
tabla <- tabla[,-1]
View(tabla)
colnames(tabla) <- c("No aplica","Población ocupada","Población desocupada","Disponibles", "No disponibles")
View(tabla)
knitr::kable(tabla, booktabs = TRUE, format = 'latex', longtable = F, caption = "Tasas de disponibilidad 2019"
)%>%
kable_styling(latex_options = "hold_position", "center")
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.align="center", fig.pos = "H", fig.width = 7, fig.height = 3)
trim_12 <-  merge(t119, t219, by = "id") %>%
select(id,clase1.x, clase1.y, clase2.x, clase2.y, fac.x, fac.y)
tabla_12 <- as.data.frame(trim_12 %>%
group_by(clase2.x, clase2.y) %>%
tally(wt = fac.x) %>%
spread(clase2.y,n) %>% replace(is.na(.),0))
View(tabla_12)
trim_23 <-  merge(t219, t319, by = "id") %>%
select(id,clase1.x, clase1.y, clase2.x, clase2.y, fac.x, fac.y)
tabla_23 <- as.data.frame(trim_23 %>%
group_by(clase2.x, clase2.y) %>%
tally(wt = fac.x) %>%
spread(clase2.y,n) %>% replace(is.na(.),0))
View(tabla_23)
tt_12 <- c(tabla_12[3,2],tabla[2,3])
tt_12 <- c(tabla_12[3,2],tabla_12[2,3])
tt_23 <- c(tabla_23[3,2],tabla_23[2,3])
tt_34 <- c(tabla_34[3,2],tabla_34[2,3])
trim_34 <-  merge(t319, t419, by = "id") %>%
select(id,clase1.x, clase1.y, clase2.x, clase2.y, fac.x, fac.y)
tabla_34 <- as.data.frame(trim_34 %>%
group_by(clase2.x, clase2.y) %>%
tally(wt = fac.x) %>%
spread(clase2.y,n) %>% replace(is.na(.),0))
tabla_34 <- tabla_34[,-1]
rownames(tabla_34) <- c("No aplica","Población ocupada","Población desocupada","Disponibles", "No disponibles")
colnames(tabla_34) <- c("No aplica","Población ocupada","Población desocupada","Disponibles", "No disponibles")
knitr::kable(tabla_34, booktabs = TRUE, format = 'latex', longtable = F, caption = "Transición entre trimestre 3 y 4"
)%>%
kable_styling(latex_options = "hold_position", "center")
tt_34 <- c(tabla_34[3,2],tabla_34[2,3])
trans_trim <- merge(tt_12,tt_23,tt_34)
autos<-data.frame("Marca"=c("Wolks","Fiat","Ford"),"Precio"=c(32000,28000,29500))
autos
trans_trim <- data.frame("Trimestre 1-2"=c(tabla_12[3,2],tabla_12[2,3]),"Trimestre 2-3"=(tabla_23[3,2],tabla_23[2,3]), "Trimestre 3-4"=c(tabla_34[3,2],tabla_34[2,3]))
trans_trim <- data.frame("Trimestre 1-2"=tt_12, "Trimestre2-3"=tt_23, "Trimestre 3-4"=tt_34)
View(trans_trim)
View(trans_trim)
trans_trim <- data.frame(tt_12,tt_23,tt_34)
View(trans_trim)
names(trans_trim) <- c( "Trimestre 1-2", "Trimestre 2-3", "Trimestre 3-4")
View(trans_trim)
Suma <- c((tabla_12[3,2]+tabla_12[2,3]),(tabla_23[3,2]+tabla_23[2,3]),(tabla_34[3,2]+tabla_34[2,3]))
trans_trim <- add_row(Suma)
2
Suma <- as.vecor(c((tabla_12[3,2]+tabla_12[2,3]),(tabla_23[3,2]+tabla_23[2,3]),(tabla_34[3,2]+tabla_34[2,3])))
trans_trim <- add_row(Suma)
?add_row
Suma <- as.data.frame(c((tabla_12[3,2]+tabla_12[2,3]),(tabla_23[3,2]+tabla_23[2,3]),(tabla_34[3,2]+tabla_34[2,3])))
View(Suma)
View(trans_trim)
trans_trim <- data.frame(tt_12,tt_23,tt_34)
trans_trim <- trans_trim mutate(Total_Row = rowSums(1:2))
trans_trim <- trans_trim %>% mutate(Total_Row = rowSums(1:2))
trans_trim <- trans_trim %>% mutate(Suma= rowSums(1:2))
trans_trim <- trans_trim %>% mutate(Suma= colSums(1:2))
trans_trim <- trans_trim %>% mutate(Suma= colSums([1:2],))
trans_trim <- trans_trim %>% mutate(Suma= rowSums(.[2:4]))
trans_trim <- trans_trim %>% mutate(Suma= rowSums(,[1:2]))
_
trans_trim <- trans_trim %>% mutate(Suma= rowSums(.,[1:2]))
?rowSums
trans_trim <- trans_trim %>% mutate(Total_Row = select(.,1:2) %>% rowSums())
View(trans_trim)
trans_trim <- trans_trim %>% mutate(Total_Row = select(1:2,.) %>% colSums())
tt_12 <- c(tabla_12[3,2],tabla_12[2,3])
tt_23 <- c(tabla_23[3,2],tabla_23[2,3])
tt_34 <- c(tabla_34[3,2],tabla_34[2,3])
Suma <- as.data.frame(c((tabla_12[3,2]+tabla_12[2,3]),(tabla_23[3,2]+tabla_23[2,3]),(tabla_34[3,2]+tabla_34[2,3])))
trans_trim <- data.frame(tt_12,tt_23,tt_34)
trans_trim <- trans_trim %>% mutate(Total_Row = select(1:2,.) %>% colSums())
trans_trim <- data.frame(tt_12,tt_23,tt_34)
trans_trim["Suma",] <- colSums(trans:trim)
trans_trim["Suma",] <- colSums(trans_trim)
View(trans_trim)
names(trans_trim) <- c( "Trimestre 1-2", "Trimestre 2-3", "Trimestre 3-4")
rownames(trans_trim) <- c("Perideron empleo","Encontraron empleo", "Suma")
View(trans_trim)
knitr::kable(trans_trim, booktabs = TRUE, format = 'latex', longtable = F, caption = "Transición entre trimestre 3 y 4"
)%>%
kable_styling(latex_options = "hold_position", "center")
PEA1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.align="center", fig.pos = "H", fig.width = 7, fig.height = 3)
t119 <- read_csv("sdemt119.csv")
t219 <- read_csv("sdemt219.csv")
t319 <- read_csv("sdemt319.csv")
names(t319) <- tolower(names(t319))
t419 <- read_csv("sdemt419.csv")
names(t419) <- tolower(names(t419))
#Población Económicamente Activa
PEA1 <- as.numeric(filter(t119, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA2 <- as.numeric(filter(t219, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA3 <- as.numeric(filter(t319, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
PEA4 <- as.numeric(filter(t419, r_def == 0, c_res == 1 | c_res == 3, eda >= 15 & eda <= 98, clase1 == 1) %>% summarise(sum(fac)))
View(trans_trim)
t_12 <- c((tabla_12[2,3] / PEA2), (tabla_12[3,2] / PEA2))
t_12 <- c((tabla_12[2,3] / PEA2), (tabla_12[3,2] / PEA2))
t_23 <- c((tabla_23[2,3] / PEA3), (tabla_23[3,2] / PEA3))
t_34 <- c((tabla_34[2,3] / PEA4), (tabla_34[3,2] / PEA4))
rates <- as.data.frame(t_12,t_23,t_34)
View(rates)
_12 <- c((tabla_12[2,3] / PEA2), (tabla_12[3,2] / PEA2))
t_12 <- c((tabla_12[2,3] / PEA2), (tabla_12[3,2] / PEA2))
t_23 <- c((tabla_23[2,3] / PEA3), (tabla_23[3,2] / PEA3))
t_34 <- c((tabla_34[2,3] / PEA4), (tabla_34[3,2] / PEA4))
rates <- as.data.frame(t_12,t_23,t_34)
View(rates)
View(trim_12)
rates <- data.frame(t_12,t_23,t_34)
View(rates)
